# general zsh configuration

export EDITOR=vi

# helpful aliases
alias g="git"
alias lse="ls -AFhHl --color=auto --group-directories-first"
alias m="man"
alias py="python"
alias zedit="vi ~/.zshrc && source ~/.zshrc"
alias zgedit="vi ~/.zshrc_general && source ~/.zshrc"
alias zmedit="vi ~/.zshrc_machine && source ~/.zshrc"
alias zsedit="vi ~/.zshrc_secrets && source ~/.zshrc"

# alias vi, vim to nvim
alias vi=nvim
alias vim=nvim

# z fast directory browser
. $DEVPATH/src/github.com/rupa/z/z.sh

# keybindings
# ===========

# use vi bindings
bindkey -v
# bind Ctrl+Backspace (i.e. ^H character for default gnometerminal) 
bindkey '^H' backward-delete-word
# reduce timeout for Insert/Normal mode switch to 0.1s
export KEYTIMEOUT=1 
# Provide INSERT/NORMAL indicator
function zle-line-init zle-keymap-select {
    VIM_PROMPT="%{$fg_bold[yellow]%} [% NORMAL]%  %{$reset_color%}"
    RPS1="${${KEYMAP/vicmd/$VIM_PROMPT}/(main|viins)/} $EPS1"
    zle reset-prompt
}
zle -N zle-line-init
zle -N zle-keymap-select

# add fuzzy finder to zsh
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
